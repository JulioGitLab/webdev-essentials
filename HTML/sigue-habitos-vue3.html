<!doctype html>
<!-- ES: Este proyecto muestra un rastreador de hábitos sencillo construido con Vue.js, usando la Options API y la sintaxis HTML.

   Por simplicidad, Vue se carga desde un CDN mediante módulos ES nativos. El código de la aplicación está incrustado
   directamente en el HTML e incluye un componente separado en un archivo JS para ilustrar la división y montaje de módulos.

   EN: This project showcases a simple habits tracker built with Vue.js, using the Options API and HTML syntax.

   For simplicity, Vue is loaded from a CDN via native ES modules. The app code is embedded directly in the HTML and includes
   a separate component in a JS file to illustrate module splitting and mounting. -->
<html lang="es">
  <head>
    <title>Proyecto 16: Monitor de Hábitos</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Proyecto que muestra cómo crear una aplicación de seguimiento de hábitos con Vue.js utilizando la Options API, módulos ES y división de componentes. Dirigido a entusiastas del desarrollo web."
    />
    <!-- Project showcasing how to build a habits tracker app with Vue.js using Options API, ES modules, and component splitting. Intended for web development enthusiasts. -->
    <link rel="stylesheet" href="../CSS/sigue-habitos-style.css" />
  </head>

  <body>
    <div id="app" class="container" aria-live="polite">
      <h1>Monitor de Hábitos</h1>

      <form v-on:submit.prevent="addHabit">
        <div>
          <label>¿Qué hábito quieres monitorear?</label>
          <input
            type="text"
            v-model="form.name"
            placeholder="e.g., Leer, Caminar, No fumar, etc."
            required
          />
        </div>

        <div class="form-group">
          <label>¿Cuando quieres empezar?</label>
          <input type="date" v-model="form.startDate" required />
        </div>

        <div class="form-group">
          <label>
            ¿Quieres contar desde el día uno o hacia atrás hasta una fecha
            objetivo
          </label>
          <select v-model="form.mode">
            <option value="indefinite">Empezando el día uno</option>
            <option value="timed">Hasta una fecha objetivo</option>
          </select>
        </div>

        <div v-if="form.mode === 'timed'" class="form-group">
          <label>¿Cuál es la fecha objetivo?</label>
          <input type="date" v-model="form.targetDate" required />
        </div>

        <div class="form-actions">
          <button type="submit">Agregar</button>
          <div class="muted">Hábitos en progreso: {{ habits.length }}</div>
        </div>
      </form>
    </div>

    <script type="module">
      import { createApp } from "https://unpkg.com/vue@3/dist/vue.esm-browser.js";

      createApp({
        data() {
          return {
            habits: [],
            form: {
              name: "",
              startDate: new Date().toISOString().slice(0, 10),
              mode: "indefinite",
              targetDate: new Date().toISOString().slice(0, 10)
            }
          };
        }
      }).mount("#app");
    </script>
  </body>
</html>
